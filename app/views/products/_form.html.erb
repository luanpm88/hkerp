       <div class="row">
            <div class="col-md-12">
              <!--<div class="grid simple">
                <div class="grid-title no-border">
                  <h4>Product <span class="semi-bold">Details</span></h4>
                  <div class="tools"> <a href="javascript:;" class="collapse"></a> <a href="#grid-config" data-toggle="modal" class="config"></a> <a href="javascript:;" class="reload"></a> <a href="javascript:;" class="remove"></a> </div>
                </div>     
                
                
                
                
                <div class="grid-body no-border">-->
                  
                  
                  <% if @product.errors.any? %>
                    <div class="alert alert-error">
                      <button data-dismiss="alert" class="close"></button>
                      <div id="error_explanation">
                        <h5><%= pluralize(@product.errors.count, "error") %> prohibited this product from being saved:</h5>
                  
                        <ul>
                        <% @product.errors.full_messages.each do |msg| %>
                          <li><%= msg %></li>
                        <% end %>
                        </ul>
                      </div>
                    </div>
                  <% end %>
                    
                 
                  
                  
				<%= form_for(@product, :multipart => true) do |f| %>
                    
					
					
					<ul class="nav nav-tabs" id="tab-01">
						 <li class="active"><a href="#general">General</a></li>
						 <li><a href="#parts">Product Parts</a></li>
						 <li><a href="#images">Images</a></li>
						 
					   </ul>
					   <div class="tools"> <a href="javascript:;" class="collapse"></a> <a href="#grid-config" data-toggle="modal" class="config"></a> <a href="javascript:;" class="reload"></a> <a href="javascript:;" class="remove"></a> </div>
					   <div class="tab-content" style="margin-bottom: 0;">
						 <div class="tab-pane active" id="general">
							  
							  
							  
							  
							  
							  
							  
							  <div class="row column-seperation">
                           
													   <div class="col-md-6">
													  
															 <div class="form-group">
															   <label class="form-label"><%= f.label :name %></label>
															   <span class="help">(required)</span>
																					   <div class="input-with-icon  right">                                       
																							   <i class=""></i>
																							   <%= f.text_field :name, :class => "form-control required" %>
																					   </div>
															 </div>
															 
															 <div class="form-group">
																 <label class="form-label"><%= f.label :product_code %></label>
																 <span class="help"></span>
																						 <div class="input-with-icon  right">                                       
																								 <i class=""></i>
																								 <%= f.text_field :product_code, :class => "form-control" %>
																						 </div>
															   </div>
											 
															  <div class="form-group">
															   <label class="form-label"><%= f.label :unit %></label>
															   <span class="help">(required)</span>
																					   <div class="input-with-icon  right">                                       
																							   <i class=""></i>
																							   <%= f.text_field :unit, :class => "form-control required" %>
																					   </div>
															 </div>
															 
															 
															 <div class="form-group">
																 <label class="form-label"><%= f.label :categories %></label>
																 <span class="help">(required)</span>															   
																 <div class="input-with-icon  right">                                                  
																	  <i class=""></i>																		 
																	  <input style="width:100%;margin-bottom: 5px;" name="product[category_ids][]" data="<%= categories_path(format: "json") %>" class="select2-ajax-categories required" value="<%= @product.categories.first.id if !@product.categories.first.nil? %>" text="<%= @product.categories.first.name if !@product.categories.first.nil? %>" />
																	  <br />
																	  <%= link_to "Create new Category", new_category_url ,class: "btn btn-primary btn-sm btn-small", target: "_blank" %>
																 </div>
															 </div>
													   
															 <div class="form-group">
															   <label class="form-label"><%= f.label :manufacturer %></label>
															   <span class="help">(required)</span>
																 <div class="input-with-icon  right">                                                  
																		 <i class=""></i>																		 
																		   <input style="width:100%;margin-bottom: 5px;" name="product[manufacturer_id]" data="<%= manufacturers_path(format: "json") %>" class="select2-ajax-manufacturers required" value="<%= @product.manufacturer_id %>" text="<%= @product.manufacturer.name if !@product.manufacturer.nil? %>" />
																		   <br />
																		   <%= link_to "Create new Manufacturer", new_manufacturer_url ,class: "btn btn-primary btn-sm btn-small", target: "_blank" %>
																 </div>
															 </div>
									   
						   
																   
						   
																		
						   
																   
																		
															  
																		
																		
												  
											 </div>
													   
													   
													   <div class="col-md-6">
											 
																	  
						   
											  
																			 <%  if can? :update_price, @product %>
																				   <%= fields_for :product_prices do |builder| %>
																						 <div class="form-group">
																							  <label class="form-label"><%= builder.label :price %></label>
																							  <span class="help"></span>
																							  <div class="input-with-icon  right">                                       
																								  <i class=""></i>
																								  <%= builder.text_field :price, value: @product.product_price.price, :class => "form-control price_input" %>
																							  </div>
																						 </div>
																						 
																						 <div class="form-group">
																							  <label class="form-label"><%= builder.label :supplier_price %></label>
																							  <span class="help"></span>
																							  <div class="input-with-icon  right">                                       
																								  <i class=""></i>
																								  <%= builder.text_field :supplier_price, value: @product.product_price.supplier_price, :class => "form-control price_input" %>
																							  </div>
																						 </div>
																						 
																						 <div class="form-group">
																							  <label class="form-label"><%= builder.label :suppiler_id %></label>
																							  <span class="help"></span>
																							  <div class="input-with-icon  right">                                       
																									<i class=""></i>
																									<input style="width:100%;margin-bottom: 5px;" name="product_prices[supplier_id]" data="<%= contacts_path(format: "json") %>" class="select2-ajax-suppliers"  value="<%= @product.product_price.supplier_id if !@product.product_price.nil? %>" text="<%= @product.product_price.supplier.name if !@product.product_price.nil? && !@product.product_price.supplier.nil? %>" />
																									<br />
																									<%= link_to '+', ajax_new_contacts_path(:type_id => ContactType.supplier), :class => 'btn btn-sm btn-small btn-white fancybox.ajax add-agent-button' %>
																							  </div>
																						 </div>	
																				   <% end %>
																			  <% end %>
															 <div class="form-group">
															   <label class="form-label"><%= f.label :warranty %></label>
															   <span class="help"></span>
																					   <div class="input-with-icon  right">                                       
																							   <i class=""></i>
																							   <%= f.text_field :warranty, :class => "form-control" %>
																					   </div>
															 </div>
														 
															 
											 
															 <div class="form-group">
															   <label class="form-label"><%= f.label :description %></label>
															   <span class="help"></span>
																   <div class="input-with-icon  right">                                       
																		   <i class=""></i>
																		   <%= f.text_area :description, :class => "form-control" %>
																   </div>
															 </div>
											 
						   
														 
														 
														 
														 
													   </div>
												   </div>
							  
							  
							  
							  
							  
							  
							  
							  
						 </div>
													   
													   
						 <div class="tab-pane" id="parts">
							  <div class="row">
								   <div class="col-md-12">
										<% if @product.id.nil? %>
										
											 <p>
												  Can't update parts of the product until it is added.
											 </p>
											 
										<% else %>
												  <div class="form-group">
															<label class="form-label"><%= f.label :parts %></label>
															<div class="input-with-icon  right">                                       
																	<i class=""></i>
																 <div class="row">
																	  <% @product.product_parts.each_with_index do |part,index| %>
																		   <%= f.fields_for :product_parts, part do |p| %>
																		   
																			 <div class="col-md-6">
																				<div class="row parts_select">                           
																					 <div class="col-sm-9 col-md-9">
																						<%= p.hidden_field :id %>
																						<%= p.hidden_field :_destroy, value: "", class: "destroy_tag"  %>
																						<%= p.text_field :part_id, :class => "width100 select2-ajax-products", data: products_path(format: "json"), value: part.part_id, text: !part.part.nil? ? part.part.display_name : "" %>
																					 </div>
																					 <div class="col-sm-3 col-md-3">
																						  <%= p.select :quantity, options_for_select(1.upto(100).map { |u| [u, u] },part.quantity), {}, {:class => "width100 modern_select"} %>
																					 </div>
																				</div>
																			 </div>
																		   <% end %>
																	  <% end %>
																 </div>
															</div>
												  </div>
										<% end %>
								   </div>
							  </div>
						 </div>
													   
													   
													   
						 <div class="tab-pane" id="images">
						   <div class="row">
							  
							  
							  <div class="col-md-12">
								   
								   <% if @product.id.nil? %>
										
										<p>
											 Can't upload images until the product is added.
										</p>
										
								   <% else %>
								   
											 <ul id="sortable" class="image-boxes">
												  <% @product_images.each_with_index do |part,index| %>
													   <%= f.fields_for :product_images, part do |p| %>
															<li class="image-box ui-state-default">
																 <div class="img-actions">
																	  <i class="icon-minus-sign delete-but<% if !part.filename.present? %> hidden<% end %>"></i>
																 </div>
																 <a href="#" class="">
																	  <% if part.filename.present? %>
																		   <img class="current_img current_image_pic" src="<%= part.image(:thumb) %>" />
																		   <%= p.hidden_field :created_at %>
																	  <% end %>
																	  <i class="icon-picture current_img current_image_icon<% if part.filename.present? %> hidden<% end %>"></i>
																	  <img src="" class="new_picture hidden" />										
																 </a>
																 <%= p.hidden_field :id %>
																 <%= p.hidden_field :display_order, class: "display_order" %>
																 <%= p.hidden_field :_destroy, value: "", class: "destroy_tag"  %>
																 <%= p.file_field :filename, :class => "hidden" %>
															</li>
													   <% end %>
												  <% end %>										
											 </ul>
								   
							  <% end %>
								   
							  </div>
							  
							  
						   </div>
						 </div>
							  
							  
						 
						 
					</div>
					
					
					 
                        
				  <div class="form-actions" style="margin-top: 0;">  
					<div class="pull-right">
					  <button type="submit" class="btn btn-success btn-cons"><i class="icon-ok"></i> Save</button>
                                          <%= link_to 'Cancel', products_path, :class => "btn btn-white btn-cons" %>
					</div>
					</div>
				<% end %>
                <!--</div>
              </div>-->
            </div>		
      </div>
					   
					   

